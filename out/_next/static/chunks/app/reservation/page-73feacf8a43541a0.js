(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{8021:(e,t,n)=>{"use strict";n.d(t,{ReservationForm:()=>u});var o=n(5155),s=n(2115),r=n(5453),a=n(6786);let i={beginner:{difficulty:"beginner",gridSize:3,timeLimit:90,discount:5},intermediate:{difficulty:"intermediate",gridSize:4,timeLimit:120,discount:8},advanced:{difficulty:"advanced",gridSize:5,timeLimit:180,discount:12}},l=e=>{let t=Date.now(),n=Math.random().toString(36).substring(2,8);return"".concat(e,"-").concat(t,"-").concat(n)},d=(0,r.v)()((0,a.Zr)((e,t)=>({coupons:[],generateCoupon:t=>{let n=i[t],o=new Date;o.setDate(o.getDate()+30);let s={id:l(t),discount:n.discount,difficulty:t,expiresAt:o,isUsed:!1};return e(e=>({coupons:[...e.coupons,s]})),s},useCoupon:t=>{e(e=>({coupons:e.coupons.map(e=>e.id===t?{...e,isUsed:!0}:e)}))},getValidCoupons:()=>{let e=new Date;return t().coupons.filter(t=>!t.isUsed&&t.expiresAt>e)}}),{name:"brasserie-coupons"}));var c=n(9434);function u(){let[e,t]=(0,s.useState)({name:"",email:"",phone:"",date:"",time:"",guests:2,couponId:""}),[n,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(0),l=d(),u=l.getValidCoupons(),m=e=>{let{name:n,value:o}=e.target;t(e=>({...e,[n]:"guests"===n?parseInt(o):o}))};return(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&l.useCoupon(n),alert("Reservation submitted! ".concat(a>0?"Discount applied: ".concat((0,c.f)(a)):"")),t({name:"",email:"",phone:"",date:"",time:"",guests:2,couponId:""}),r(null),i(0)},className:"bg-gray-900 p-8 rounded-lg",children:[(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,o.jsx)("input",{type:"text",name:"name",value:e.name,onChange:m,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-brand-secondary focus:outline-none",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),(0,o.jsx)("input",{type:"email",name:"email",value:e.email,onChange:m,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-brand-secondary focus:outline-none",required:!0})]})]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),(0,o.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:m,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-brand-secondary focus:outline-none"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Number of Guests *"}),(0,o.jsxs)("select",{name:"guests",value:e.guests,onChange:m,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-brand-secondary focus:outline-none",children:[(0,o.jsx)("option",{value:1,children:"1 Guest"}),(0,o.jsx)("option",{value:2,children:"2 Guests"}),(0,o.jsx)("option",{value:3,children:"3 Guests"}),(0,o.jsx)("option",{value:4,children:"4 Guests"}),(0,o.jsx)("option",{value:5,children:"5+ Guests"})]})]})]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date *"}),(0,o.jsx)("input",{type:"date",name:"date",value:e.date,onChange:m,min:new Date().toISOString().split("T")[0],className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-brand-secondary focus:outline-none",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time *"}),(0,o.jsxs)("select",{name:"time",value:e.time,onChange:m,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-brand-secondary focus:outline-none",required:!0,children:[(0,o.jsx)("option",{value:"",children:"Select time"}),(0,o.jsx)("option",{value:"17:00",children:"5:00 PM"}),(0,o.jsx)("option",{value:"17:30",children:"5:30 PM"}),(0,o.jsx)("option",{value:"18:00",children:"6:00 PM"}),(0,o.jsx)("option",{value:"18:30",children:"6:30 PM"}),(0,o.jsx)("option",{value:"19:00",children:"7:00 PM"}),(0,o.jsx)("option",{value:"19:30",children:"7:30 PM"}),(0,o.jsx)("option",{value:"20:00",children:"8:00 PM"}),(0,o.jsx)("option",{value:"20:30",children:"8:30 PM"}),(0,o.jsx)("option",{value:"21:00",children:"9:00 PM"})]})]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Coupon Code"}),(0,o.jsx)("input",{type:"text",name:"couponId",value:e.couponId,onChange:e=>{let n=e.target.value;t(e=>({...e,couponId:n}));let o=u.find(e=>e.id===n);o?(r(o.id),i(o.discount)):(r(null),i(0))},placeholder:"Enter your puzzle completion coupon",className:"w-full bg-gray-800 border rounded-lg px-4 py-3 text-white focus:outline-none ".concat(n?"border-green-500 focus:border-green-500":e.couponId&&!n?"border-red-500 focus:border-red-500":"border-gray-700 focus:border-brand-secondary")}),n&&(0,o.jsxs)("p",{className:"text-green-400 text-sm mt-2",children:["âœ“ Valid coupon applied: ",(0,c.f)(a)]}),e.couponId&&!n&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-2",children:"Invalid or expired coupon code"})]}),u.length>0&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Available coupons:"}),(0,o.jsx)("div",{className:"space-y-1",children:u.map(e=>(0,o.jsxs)("button",{type:"button",onClick:()=>{t(t=>({...t,couponId:e.id})),r(e.id),i(e.discount)},className:"block w-full text-left text-sm bg-gray-800 hover:bg-gray-700 p-2 rounded text-brand-secondary",children:[e.id," - ",(0,c.f)(e.discount)," (",e.difficulty,")"]},e.id))})]}),(0,o.jsxs)("button",{type:"submit",className:"w-full bg-brand-secondary text-brand-primary py-4 text-lg font-semibold rounded-lg hover:bg-opacity-90 transition-all",children:["Confirm Reservation",a>0&&" (".concat((0,c.f)(a)," discount applied)")]})]})}},8795:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.bind(n,8021))},9434:(e,t,n)=>{"use strict";n.d(t,{cn:()=>r,f:()=>a});var o=n(2596),s=n(9688);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,o.$)(t))}function a(e){return"".concat(e,"% OFF")}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,446,441,684,358],()=>t(8795)),_N_E=e.O()}]);